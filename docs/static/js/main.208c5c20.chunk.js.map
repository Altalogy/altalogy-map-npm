{"version":3,"sources":["components/AltaMap/components/AddressSearchBar/AddressSearchBar.jsx","components/AltaMap/components/AddressSearchBar/index.js","components/AltaMap/models/MapElement.js","components/AltaMap/models/MapElements.js","components/AltaMap/components/Heatmaps/index.js","components/AltaMap/components/Heatmaps/Heatmap.jsx","components/AltaMap/components/MapMarker/index.js","components/AltaMap/components/MapMarker/MapMarker.jsx","components/AltaMap/components/MapElements/index.js","components/AltaMap/components/MapElements/MapElements.jsx","components/AltaMap/components/MapLeafletDrawer/MapLeafletDrawer.jsx","components/AltaMap/components/MapLeafletDrawer/index.js","components/AltaMap/components/MapDrawer/MapDrawer.jsx","components/AltaMap/components/MapDrawer/index.js","components/AltaMap/components/ControlPanel/components/AddData/AddData.jsx","components/AltaMap/components/ControlPanel/components/AddData/index.js","components/AltaMap/components/DrawerControl/index.js","components/AltaMap/components/DrawerControl/DrawerControl.jsx","components/AltaMap/components/ControlPanel/components/HideElements/index.js","components/AltaMap/components/ControlPanel/components/HideElements/HideElements.jsx","components/AltaMap/components/ControlPanel/components/DeleteData/index.js","components/AltaMap/components/ControlPanel/components/DeleteData/DeleteData.jsx","components/AltaMap/components/Modal/index.js","components/AltaMap/components/Modal/Modal.jsx","components/AltaMap/components/ControlPanel/index.js","components/AltaMap/components/ControlPanel/ControlPanel.jsx","components/AltaMap/AltaMap.jsx","components/AltaMap/index.js","App.jsx","serviceWorker.js","index.jsx"],"names":["interval","AddressSearchBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","script","checkScript","bind","assertThisInitialized","onSuggestSelect","_this$props","googleAPI","searchAddress","enabled","document","createElement","src","concat","async","body","appendChild","setInterval","window","google","setState","clearInterval","suggest","location","altaRef","current","addMarker","lat","lng","_this2","react_default","a","className","Geosuggest_esm","ref","el","_geoSuggest","placeholder","maps","LatLng","radius","React","Component","MapElement","params","properties","assign","id","uuid","type","tags","options","data","MapElements","elements","element","elementsArray","length","map","tag","indexOf","me","deleteItem","splice","hidden","Heatmap","heatmap","HeatmapLayer_default","fitBoundsOnLoad","fitBoundsOnUpdate","points","longitudeExtractor","m","latitudeExtractor","intensityExtractor","parseFloat","MapMarker","marker","Marker","position","popup","Popup","mapElements","getElements","mapObject","idx","key","Heatmaps","components_MapMarker","getMapElements","DRAW_OPTION","rectangle","polyline","circle","circlemarker","polygon","DRAW_MENU_POSITION","topleft","topright","bottomright","bottomleft","MapLeafletDrawer","mapLeafletDrawer","active","setMapLeafletDrawer","pos","option","_","hasIn","defineProperty","FeatureGroup","esm","draw","MapDrawer","mapDrawer","editable","removable","mapDrawerSettings","mapDrawerData","react_map","_mapDrawerRef","setMapDrawer","setMapDrawerSettings","editMapDrawer","removeMapDrawer","getMapDrawerData","cancelMapDrawer","x","leafletElement","edit","featureGroup","_layers","_this$state","_toolbars","_modes","handler","enable","disable","remove","ADDRESS_POINTS","value","label","AddData","handleChange","selectedOption","groupMarkers","updateHeatmapValue","e","target","elementArray","number","charAt","JSON","parse","push","split","y","group","objectSpread","name","onChange","rows","cols","setGroupMarker","onClick","addGroupMarker","setMarker","_this$state2","handlers","addElements","_this3","react_select_browser_esm","classNamePrefix","getOptionComponent","confirmAddData","disabled","DrawerControl","drawRef","HideElements","hide","hideElementById","setHideOption","confirmHideElement","DeleteData","confirmDeleteElement","deleteElementById","setDeleteOption","Modal","_ref","header","footer","close","ControlPanel","change","modal","modalContent","openModal","controlPanel","toggleControlPanel","content","components_Modal","components_AddData","components_HideElements","components_DeleteData","_this$props2","title","components_DrawerControl","modalRender","components_AddressSearchBar","DEFAULT_VIEWPORT","center","zoom","AltaMap","createRef","leafletDrawer","viewport","showControlPanel","callChangeCallback","setViewport","hideElements","deleteElement","getElementsById","getElementsByTag","_this4","_this5","_this6","_this7","mainClass","style","width","height","Map","minZoom","TileLayer","url","tileLayer","attribution","components_MapLeafletDrawer","components_MapDrawer","components_MapElements","components_ControlPanel","App","didMount","updateAltaMapState","components_AltaMap","Boolean","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.208c5c20.chunk.js","sourcesContent":["import React from 'react'\r\nimport Geosuggest from 'react-geosuggest'\r\nimport './AddressSearchBar.scss'\r\n\r\nlet interval\r\n\r\nclass AddressSearchBar extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      script: false,\r\n    }\r\n    this.checkScript = this.checkScript.bind(this)\r\n    this.onSuggestSelect = this.onSuggestSelect.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { googleAPI, searchAddress } = this.props\r\n    if(googleAPI && searchAddress && searchAddress.enabled !== false ) {\r\n      const script = document.createElement(\"script\");\r\n\r\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${googleAPI}&libraries=places`;\r\n      script.async = false;\r\n\r\n      document.body.appendChild(script);\r\n    }\r\n\r\n    interval = setInterval(this.checkScript, 1000)\r\n  }\r\n\r\n  checkScript() {\r\n    if(window.google){\r\n      this.setState({\r\n        script: true\r\n      })\r\n      clearInterval(interval)\r\n    }\r\n  }\r\n\r\n  onSuggestSelect(suggest) {\r\n    if(suggest && suggest.location) {\r\n      this.props.altaRef.current.addMarker(suggest.location.lat,suggest.location.lng)\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { searchAddress } = this.props\r\n    if (!searchAddress || searchAddress.enabled === false  || !window.google) { return '' }\r\n    return (\r\n      <div className='search__bar'>\r\n        { this.state.script &&\r\n          <Geosuggest\r\n            ref={el => this._geoSuggest=el}\r\n            placeholder=\"Start searching...\"\r\n            onSuggestSelect={this.onSuggestSelect}\r\n            location={new window.google.maps.LatLng(53.558572, 9.9278215)}\r\n            radius='20'\r\n            />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddressSearchBar;\r\n","import AddressSearchBar from './AddressSearchBar'\r\n\r\nexport default  AddressSearchBar\r\n","/*\r\n *\r\n */\r\nimport uuid from 'uuidv4'\r\n\r\nexport default class MapElement {\r\n  constructor(params) {\r\n    const properties = Object.assign({\r\n      // these are the defaults\r\n      id: uuid(),\r\n      type: null,\r\n      tags: null,\r\n      options: null,\r\n      data: null,\r\n    }, params)\r\n\r\n    this.id = properties.id\r\n    this.type = properties.type\r\n    this.tags = properties.tags\r\n    this.options = properties.options\r\n    this.data = properties.data\r\n  }\r\n}\r\n","/*\r\n *\r\n */\r\nimport MapElement from './MapElement'\r\n\r\nexport default class MapElements {\r\n  constructor(params) {\r\n    const properties = Object.assign({\r\n      // these are the defaults\r\n      elements: [],\r\n    }, params)\r\n\r\n    this.elements = properties.elements\r\n  }\r\n\r\n  getElements() { return this.elements }\r\n\r\n  getElementsById(id) {\r\n    let element\r\n    let elementsArray = this.elements\r\n    if(elementsArray.length > 0) {\r\n      elementsArray.map((elements) => {\r\n        if(elements.id === id) {\r\n          element = elements\r\n        }\r\n        return element\r\n      })\r\n    }\r\n    return element\r\n  }\r\n\r\n  getElementsByTag(tag) {\r\n    let element\r\n    let elementsArray = this.elements\r\n    if(elementsArray.length > 0) {\r\n      elementsArray.map((elements) => {\r\n        if(elements.tags && elements.tags.indexOf(tag) > -1) {\r\n          element = elements\r\n        }\r\n        return element\r\n      })\r\n    }\r\n    return element\r\n  }\r\n\r\n  addElements(elements) {\r\n    this.elements = this.elements.concat(elements.map((me) => {\r\n      return new MapElement(me)\r\n    }))\r\n  }\r\n\r\n  deleteElement(tag) {\r\n    let deleteItem\r\n    let elementsArray = this.elements\r\n    if(elementsArray.length > 0) {\r\n      elementsArray.map((el) => {\r\n        if(el.tags && el.tags.indexOf(tag) > -1) {\r\n          deleteItem = elementsArray.indexOf(el)\r\n          elementsArray.splice(deleteItem,1)\r\n        }\r\n        return elementsArray\r\n      })\r\n    }\r\n    this.elements = elementsArray\r\n  }\r\n\r\n  deleteElementById(id) {\r\n    let deleteItem\r\n    let elementsArray = this.elements\r\n    if(elementsArray.length > 0) {\r\n      elementsArray.map((el) => {\r\n        if(el.id === id) {\r\n          deleteItem = elementsArray.indexOf(el)\r\n          elementsArray.splice(deleteItem,1)\r\n        }\r\n        return elementsArray\r\n      })\r\n    }\r\n    this.elements = elementsArray\r\n  }\r\n\r\n  hideElements(tag) {\r\n    if(this.elements.length > 0) {\r\n      let elementsArray = this.elements.map((el) => {\r\n        if(el.tags && el.tags.indexOf(tag) > -1) { el.hidden = el.hidden ? false : true }\r\n        return el\r\n      })\r\n      this.elements = elementsArray\r\n    }\r\n  }\r\n\r\n  hideElementById(id) {\r\n    if(this.elements.length > 0) {\r\n      let elementsArray = this.elements.map((el) => {\r\n        if(el.id === id) { el.hidden = el.hidden ? false : true }\r\n        return el\r\n      })\r\n      this.elements = elementsArray\r\n    }\r\n  }\r\n}\r\n","import Heatmap from './Heatmap'\r\n\r\nexport default Heatmap\r\n","import React from 'react'\r\nimport HeatmapLayer from 'react-leaflet-heatmap-layer'\r\n\r\nclass Heatmap extends React.Component {\r\n  render () {\r\n    const { heatmap } = this.props\r\n    return (\r\n      <HeatmapLayer\r\n        fitBoundsOnLoad\r\n        fitBoundsOnUpdate\r\n        points={heatmap.data}\r\n        longitudeExtractor={m => m[1]}\r\n        latitudeExtractor={m => m[0]}\r\n        intensityExtractor={m => parseFloat(m[2])}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default Heatmap\r\n","import MapMarker from './MapMarker'\r\n\r\nexport default MapMarker\r\n","import React from 'react'\r\nimport { Marker, Popup } from 'react-leaflet'\r\n\r\nconst MapMarker = (props) => {\r\n  const { marker } = props\r\n  return (\r\n    <Marker id={marker.id} position={marker.position}>\r\n      { marker.popup &&\r\n        <Popup>\r\n          {marker.popup}\r\n        </Popup>\r\n      }\r\n    </Marker>\r\n  )\r\n}\r\n\r\nexport default MapMarker\r\n","import MapElements from './MapElements'\r\n\r\nexport default MapElements\r\n","import React, { Component } from 'react'\r\nimport uuid from 'uuidv4'\r\nimport Heatmap from '../Heatmaps'\r\nimport MapMarker from '../MapMarker'\r\n\r\nclass MapElements extends Component {\r\n\r\n  getMapElements() {\r\n    const { mapElements } = this.props\r\n    if( mapElements.getElements().length > 0 ) {\r\n      return(\r\n        mapElements.getElements().map((mapObject, idx) => {\r\n          if(!mapObject.hidden) {\r\n            if(mapObject.type === 'heatmap') {\r\n              return (\r\n                <div className='heatmap__element' key={uuid()}>\r\n                  <Heatmap\r\n                    heatmap={mapObject}\r\n                    />\r\n                </div>\r\n              )\r\n            } else if(mapObject.type === 'group_markers') {\r\n              return (\r\n                mapObject.data.map((data) => (\r\n                  <div className='marker__element' key={uuid()}>\r\n                    <MapMarker\r\n                      marker={{\r\n                        id: mapObject.id,\r\n                        position: {lat:data.lat,lng:data.lng},\r\n                        popup: data && data.popup ? data.popup : '',\r\n                      }}\r\n                      />\r\n                  </div>\r\n                ))\r\n              )\r\n            } else if(mapObject.type === 'marker') {\r\n              return (\r\n                <div className='marker__element' key={uuid()}>\r\n                  <MapMarker\r\n                    marker={{\r\n                      id: mapObject.id,\r\n                      position: {lat:mapObject.data.lat,lng:mapObject.data.lng},\r\n                      popup: mapObject.options && mapObject.options.popup ? mapObject.options.popup : '',\r\n                    }}\r\n                    />\r\n                </div>\r\n              )\r\n            }\r\n          }\r\n          return idx\r\n        })\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        { this.getMapElements() }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MapElements\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\nimport { FeatureGroup } from 'react-leaflet'\r\nimport { EditControl } from 'react-leaflet-draw'\r\n\r\nconst DRAW_OPTION = {\r\n  rectangle:'rectangle',\r\n  polyline:'polyline',\r\n  circle:'circle',\r\n  circlemarker:'circlemarker',\r\n  marker:'marker',\r\n  polygon:'polygon'\r\n}\r\n\r\nconst DRAW_MENU_POSITION = {\r\n  topleft:'topleft',\r\n  topright:'topright',\r\n  bottomright:'bottomright',\r\n  bottomleft:'bottomleft'\r\n}\r\n\r\nclass MapLeafletDrawer extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      mapLeafletDrawer: {\r\n        active: false,\r\n        position: 'topright',\r\n        options: {},\r\n      },\r\n    }\r\n\r\n    this.setMapLeafletDrawer = this.setMapLeafletDrawer.bind(this)\r\n  }\r\n\r\n  setMapLeafletDrawer(pos,option) {\r\n    let position = null\r\n    let options = null\r\n    if(_.hasIn(DRAW_MENU_POSITION,pos)) {\r\n      position = pos\r\n    }\r\n    if(_.hasIn(DRAW_OPTION,option)) {\r\n      options = { [option] : false }\r\n    } else if (option) {\r\n      options = option\r\n    }\r\n    this.setState({\r\n      mapLeafletDrawer: {\r\n        active: pos || option ? true : false,\r\n        position: position ? position : 'topright',\r\n        options: option ? options : {}\r\n      }\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { mapLeafletDrawer } = this.state\r\n    return (\r\n      <FeatureGroup>\r\n        { mapLeafletDrawer.active &&\r\n          <EditControl\r\n            position={ mapLeafletDrawer.position }\r\n            draw={ mapLeafletDrawer.options }\r\n          />\r\n        }\r\n      </FeatureGroup>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MapLeafletDrawer\r\n","import MapLeafletDrawer from './MapLeafletDrawer'\r\n\r\nexport default MapLeafletDrawer\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\nimport { EditControl } from 'react-leaflet-draw'\r\nimport { FeatureGroup } from 'react-leaflet'\r\nimport './MapDrawer.scss'\r\n\r\nconst DRAW_OPTION = {\r\n  rectangle:'rectangle',\r\n  polyline:'polyline',\r\n  circle:'circle',\r\n  circlemarker:'circlemarker',\r\n  marker:'marker',\r\n  polygon:'polygon'\r\n}\r\n\r\nclass MapDrawer extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      mapDrawer: '',\r\n      editable: false,\r\n      removable: false,\r\n      mapDrawerSettings: {},\r\n      mapDrawerData: {},\r\n    }\r\n\r\n    window.react_map = { _mapDrawerRef: null }\r\n    this.setMapDrawer = this.setMapDrawer.bind(this)\r\n    this.setMapDrawerSettings = this.setMapDrawerSettings.bind(this)\r\n    this.mapDrawer = this.mapDrawer.bind(this)\r\n    this.editMapDrawer = this.editMapDrawer.bind(this)\r\n    this.removeMapDrawer = this.removeMapDrawer.bind(this)\r\n    this.getMapDrawerData = this.getMapDrawerData.bind(this)\r\n    this.cancelMapDrawer = this.cancelMapDrawer.bind(this)\r\n  }\r\n\r\n  mapDrawer(x) {\r\n    window.react_map._mapDrawerRef = x\r\n  }\r\n\r\n  getMapDrawerData() {\r\n    this.setState({\r\n      mapDrawerData: window.react_map._mapDrawerRef.leafletElement.options.edit.featureGroup._layers\r\n    }, () => {\r\n      return (\r\n        this.state.mapDrawerData\r\n      )\r\n    })\r\n  }\r\n\r\n  setMapDrawer(option) {\r\n    const { editable, removable, } = this.state\r\n    if( editable ) {\r\n      this.editMapDrawer()\r\n    } else if ( removable ) {\r\n      this.removeMapDrawer()\r\n    }\r\n    if(_.hasIn(DRAW_OPTION,option)) {\r\n      window.react_map._mapDrawerRef.leafletElement._toolbars.draw._modes[option].handler.enable()\r\n      this.setState({\r\n        mapDrawer: option\r\n      })\r\n    }\r\n    this.getMapDrawerData()\r\n  }\r\n\r\n  setMapDrawerSettings(options) {\r\n    if(options) {\r\n      this.setState({\r\n        mapDrawerSettings: options\r\n      })\r\n    }\r\n  }\r\n\r\n  cancelMapDrawer() {\r\n    const { mapDrawer } = this.state\r\n    if(_.hasIn(DRAW_OPTION,mapDrawer)) {\r\n      window.react_map._mapDrawerRef.leafletElement._toolbars.draw._modes[mapDrawer].handler.disable()\r\n      this.setState({\r\n        mapDrawer: '',\r\n      })\r\n    }\r\n  }\r\n\r\n  editMapDrawer() {\r\n    if(window.react_map && window.react_map._mapDrawerRef && this.state.editable === false) {\r\n      this.setState({\r\n        editable: true\r\n      })\r\n      window.react_map._mapDrawerRef.leafletElement._toolbars.edit._modes.edit.handler.enable()\r\n    } else {\r\n      this.setState({\r\n        editable: false\r\n      })\r\n      window.react_map._mapDrawerRef.leafletElement._toolbars.edit._modes.edit.handler.disable()\r\n    }\r\n  }\r\n\r\n  removeMapDrawer() {\r\n    if(window.react_map && window.react_map._mapDrawerRef && this.state.removable === false) {\r\n      this.setState({\r\n        removable: true\r\n      })\r\n      window.react_map._mapDrawerRef.leafletElement._toolbars.edit._modes.remove.handler.enable()\r\n    } else {\r\n      this.setState({\r\n        removable: false\r\n      })\r\n      window.react_map._mapDrawerRef.leafletElement._toolbars.edit._modes.remove.handler.disable()\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const {mapDrawerSettings, mapDrawer} = this\r\n    return (\r\n      <div className='custom__map'>\r\n        <FeatureGroup>\r\n          <EditControl\r\n            position='topleft'\r\n            ref={el => mapDrawer(el)}\r\n            draw={mapDrawerSettings}\r\n            />\r\n        </FeatureGroup>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MapDrawer\r\n","import MapDrawer from './MapDrawer'\r\n\r\nexport default MapDrawer\r\n","import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst ADDRESS_POINTS = [\r\n  [-37.8839, 175.3657417333, \"571\"],\r\n  [-37.8869090667, 175.3657417333, \"486\"],\r\n  [-37.8894207167, 175.4015351167, \"807\"],\r\n  [-37.8927369333, 175.4087452333, \"899\"],\r\n  [-37.90585105, 175.4453463833, \"1273\"],\r\n  [-37.9064188833, 175.4441556833, \"1258\"],\r\n  [-37.90584715, 175.4463564333, \"1279\"],\r\n  [-37.9033391333, 175.4244005667, \"1078\"],\r\n  [-37.9061991333, 175.4492620333, \"1309\"],\r\n  [-37.9058955167, 175.4445613167, \"1261\"],\r\n  [-37.88888045, 175.39146475, \"734\"],\r\n]\r\n\r\nconst options = [\r\n  { value: 'heatmap', label: 'Heatmap' },\r\n  { value: 'group_markers', label: 'Markers Group' },\r\n  { value: 'marker', label: 'Marker' },\r\n];\r\n\r\nclass AddData extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      selectedOption: null,\r\n      heatmap: ADDRESS_POINTS,\r\n      groupMarkers: [],\r\n      marker: {}\r\n    }\r\n    this.updateHeatmapValue = this.updateHeatmapValue.bind(this)\r\n  }\r\n\r\n  handleChange = selectedOption => {\r\n    this.setState({ selectedOption })\r\n  }\r\n\r\n  updateHeatmapValue(e) {\r\n    let value = e.target.value\r\n    let data = []\r\n    let elementArray = []\r\n    let number = 1\r\n    if(value.charAt(0) !== '[') {\r\n      let heatmapValueArray = JSON.parse('[' + value + ']')\r\n      heatmapValueArray.map((x) => {\r\n        elementArray.push(x)\r\n        if(number % 3 === 0){\r\n          data.push(elementArray)\r\n          elementArray = []\r\n        }\r\n        number += 1\r\n        return data\r\n      })\r\n    } else if(value.charAt(0) === '[') {\r\n      var res = value.split(/[[\\]]/)\r\n      res.map((x) => {\r\n        if(x.charAt(0) === '-' || (x.charAt(0) >= '0' && x.charAt(0) <= '9')) {\r\n          let y = JSON.parse('[' + x + ']')\r\n          data.push(y)\r\n        }\r\n        return data\r\n      })\r\n    }\r\n    this.setState({\r\n      heatmap: data\r\n    })\r\n  }\r\n\r\n  addGroupMarker() {\r\n    let group = this.state.groupMarkers\r\n    let marker = {\r\n      lat: '',\r\n      lng: '',\r\n      popup: '',\r\n    }\r\n    group.push(marker)\r\n    this.setState({\r\n      groupMarkers: group\r\n    })\r\n  }\r\n\r\n  setMarker(e,type) {\r\n    this.setState({\r\n      marker: {\r\n        ...this.state.marker,\r\n        [type]: e.target.value\r\n      }\r\n    })\r\n  }\r\n\r\n  setGroupMarker(e,type,idx) {\r\n    let group = this.state.groupMarkers\r\n    group[idx][type] = e.target.value\r\n    this.setState({\r\n      groupMarkers: group\r\n    })\r\n  }\r\n\r\n  getOptionComponent() {\r\n    const { selectedOption, heatmap, marker, groupMarkers } = this.state\r\n    switch (selectedOption.value) {\r\n      case 'heatmap':\r\n        return (\r\n          <div className='heatmap'>\r\n            <textarea name=\"message\" value={heatmap} onChange={this.updateHeatmapValue} rows=\"10\" cols=\"30\"></textarea>\r\n          </div>\r\n        )\r\n      case 'group_markers':\r\n        return (\r\n          <div className='group_markers'>\r\n            { groupMarkers.map((m,idx) => {\r\n              return (\r\n                <div key={`marker-${idx}`} className='marker'>\r\n                  <input type=\"text\" value={m.lat} onChange={(e) => this.setGroupMarker(e,'lat',idx)} placeholder='Lat'></input>\r\n                  <input type=\"text\" value={m.lng} onChange={(e) => this.setGroupMarker(e,'lng',idx)} placeholder='Lng'></input>\r\n                  <input type=\"text\" value={m.popup} onChange={(e) => this.setGroupMarker(e,'popup',idx)} placeholder='Text marker'></input>\r\n                </div>\r\n              )\r\n            })\r\n            }\r\n            <button className='btn btn--text' onClick={() => this.addGroupMarker()}>Add marker</button>\r\n          </div>\r\n        )\r\n      case 'marker':\r\n        return (\r\n          <div className='marker'>\r\n            <input type=\"text\" value={marker.lat} onChange={(e) => this.setMarker(e,'lat')} placeholder='Lat'></input>\r\n            <input type=\"text\" value={marker.lng} onChange={(e) => this.setMarker(e,'lng')} placeholder='Lng'></input>\r\n            <input type=\"text\" value={marker.popup} onChange={(e) => this.setMarker(e,'popup')} placeholder='Text marker'></input>\r\n          </div>\r\n        )\r\n      default:\r\n    }\r\n  }\r\n\r\n  confirmAddData() {\r\n    const { selectedOption, heatmap, marker, groupMarkers, } = this.state\r\n    const { handlers } = this.props\r\n    if(selectedOption.value === 'heatmap') {\r\n      let data = [{\r\n        type: 'heatmap',\r\n        data: heatmap\r\n      }]\r\n      if(heatmap) {\r\n        handlers.addElements(data)\r\n      }\r\n    } else if(selectedOption.value === 'group_markers') {\r\n      let data = [{\r\n        type: 'group_markers',\r\n        data: groupMarkers\r\n      }]\r\n      if(groupMarkers) {\r\n        handlers.addElements(data)\r\n      }\r\n    } else if(selectedOption.value === 'marker') {\r\n      if(marker.lat && marker.lng) {\r\n        handlers.addMarker(marker.lat,marker.lng,marker.popup)\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { selectedOption } = this.state\r\n    return (\r\n      <div className='add__data'>\r\n        <h2>Add Element</h2>\r\n        <Select\r\n          className='select'\r\n          classNamePrefix='select'\r\n          value={selectedOption}\r\n          onChange={this.handleChange}\r\n          options={options}\r\n        />\r\n        { selectedOption && selectedOption.value &&\r\n          this.getOptionComponent()\r\n        }\r\n        { selectedOption && selectedOption.value ?\r\n          <button  className='btn btn--primary' onClick={() => {this.confirmAddData()}}>Submit</button> :\r\n          <button className='btn btn--disabled' disabled>Submit</button>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nAddData.propTypes = {\r\n  handlers: PropTypes.object,\r\n}\r\n\r\nexport default AddData\r\n","import AddData from './AddData'\r\n\r\nexport default AddData\r\n","import DrawerControl from './DrawerControl'\r\n\r\nexport default DrawerControl\r\n","import React from 'react'\r\nimport './DrawerControl.scss'\r\n\r\nconst DrawerControl = (props) => {\r\n  return (\r\n    <div className='drawer__control'>\r\n      <button onClick={() => props.handlers.drawRef.current.setMapDrawer('polyline')}>Draw Polyline</button>\r\n      <button onClick={() => props.handlers.drawRef.current.setMapDrawer('polygon')}>Draw Polygon</button>\r\n      <button onClick={() => props.handlers.drawRef.current.setMapDrawer('rectangle')}>Draw Rectangle</button>\r\n      <button onClick={() => props.handlers.drawRef.current.setMapDrawer('circle')}>Draw Circle</button>\r\n      <button onClick={() => props.handlers.drawRef.current.editMapDrawer()}>Edit</button>\r\n      <button onClick={() => props.handlers.drawRef.current.removeMapDrawer()}>Remove</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DrawerControl\r\n","import HideElements from './HideElements'\r\n\r\nexport default HideElements\r\n","import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass HideElements extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      selectedOption: null,\r\n      hide: false\r\n    }\r\n  }\r\n\r\n  handleChange = selectedOption => {\r\n    this.setState({ selectedOption })\r\n  }\r\n\r\n  setHideOption(mapElements) {\r\n    let options = []\r\n    mapElements.getElements().map((el) => options.push({ value: el.id, label: `[${el.type}]: ${el.id}` }))\r\n    return options\r\n  }\r\n\r\n  confirmHideElement() {\r\n    const { handlers } = this.props\r\n    handlers.hideElementById(this.state.selectedOption.value)\r\n    this.setState({\r\n      hide: !this.state.hide\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedOption } = this.state\r\n    const { mapElements } = this.props\r\n    return (\r\n      <div className='hide__elements'>\r\n        <h2>Hide Element</h2>\r\n        <Select\r\n          className='select'\r\n          classNamePrefix='select'\r\n          value={selectedOption}\r\n          onChange={this.handleChange}\r\n          options={this.setHideOption(mapElements)}\r\n        />\r\n        { selectedOption && selectedOption.value ?\r\n          <button  className='btn btn--primary' onClick={() => {this.confirmHideElement()}}>Submit</button> :\r\n          <button className='btn btn--disabled' disabled>Submit</button>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nHideElements.propTypes = {\r\n  handlers: PropTypes.object,\r\n  mapElements: PropTypes.object,\r\n}\r\n\r\nexport default HideElements\r\n","import DeleteData from './DeleteData'\r\n\r\nexport default DeleteData\r\n","import React, { Component } from 'react'\r\nimport Select from 'react-select'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass DeleteData extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      selectedOption: null,\r\n    }\r\n\r\n    this.confirmDeleteElement = this.confirmDeleteElement.bind(this)\r\n  }\r\n\r\n  handleChange = selectedOption => {\r\n    this.setState({ selectedOption })\r\n  }\r\n\r\n  setDeleteOption(mapElements) {\r\n    let options = []\r\n    mapElements.getElements().map((el) => options.push({ value: el.id, label: `[${el.type}]: ${el.id}` }))\r\n    return options\r\n  }\r\n\r\n  confirmDeleteElement() {\r\n    const { handlers } = this.props\r\n    handlers.deleteElementById(this.state.selectedOption.value)\r\n    this.setState({\r\n      selectedOption: null,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedOption } = this.state\r\n    const { mapElements } = this.props\r\n    return (\r\n      <div className='delete__data'>\r\n        <h2>Delete Element</h2>\r\n        <Select\r\n          className='select'\r\n          classNamePrefix='select'\r\n          value={selectedOption}\r\n          onChange={this.handleChange}\r\n          options={this.setDeleteOption(mapElements)}\r\n        />\r\n        { selectedOption && selectedOption.value ?\r\n          <button  className='btn btn--primary' onClick={() => {this.confirmDeleteElement()}}>Submit</button> :\r\n          <button className='btn btn--disabled' disabled>Submit</button>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nDeleteData.propTypes = {\r\n  handlers: PropTypes.object,\r\n  mapElements: PropTypes.object,\r\n}\r\n\r\nexport default DeleteData\r\n","import Modal from './Modal'\r\n\r\nexport default Modal;\r\n","import React from 'react'\r\nimport './Modal.scss'\r\n\r\nconst Modal = ({header,body,footer,close}) => {\r\n  return (\r\n    <div className='modal__layout'>\r\n      <div className='modal__cmp'>\r\n        <div className='modal__header'>\r\n          <div className='title'>\r\n            {header}\r\n          </div>\r\n          <span className='close' onClick={close}>x</span>\r\n        </div>\r\n        <div className='modal__body'>\r\n          {body}\r\n        </div>\r\n        <div className='modal__footer'>\r\n          {footer}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Modal\r\n","import ControlPanel from './ControlPanel'\n\nexport default ControlPanel\n","import React from 'react'\nimport './ControlPanel.scss'\nimport AddData from './components/AddData'\nimport DrawerControl from '../DrawerControl'\nimport HideElements from './components/HideElements'\nimport DeleteData from './components/DeleteData'\nimport Modal from '../Modal'\nimport AddressSearchBar from '../AddressSearchBar'\n\nclass ControlPanel extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      change: false,\n      modal: false,\n      modalContent: '',\n    }\n    this.openModal = this.openModal.bind(this)\n    this.controlPanel = this.controlPanel.bind(this)\n  }\n  controlPanel() {\n    const { toggleControlPanel } = this.props\n    this.setState({\n      change: !this.state.change,\n    })\n    toggleControlPanel()\n  }\n\n  openModal(content) {\n    this.setState({\n      modal: !this.state.modal,\n      modalContent: content,\n    })\n  }\n\n  modalRender() {\n    const { modalContent } = this.state\n    const { handlers, mapElements } = this.props\n    switch(modalContent) {\n      case 'add':\n        return <Modal close={this.openModal} body={<AddData handlers={handlers} />} />;\n      case 'hide':\n        return <Modal close={this.openModal} body={<HideElements handlers={handlers} mapElements={mapElements} />} />;\n      case 'del':\n        return <Modal close={this.openModal} body={<DeleteData handlers={handlers} mapElements={mapElements} />} />;\n      default:\n        return <div></div>\n    }\n  }\n\n  render () {\n    const { controlPanel, mapElements, handlers, searchAddress, googleAPI } = this.props\n    const { change, modal } = this.state\n    if (!controlPanel || controlPanel.enabled === false) { return '' }\n    return (\n      <div className='control-panel'>\n        <button className={(change ? `control-panel__open_btn change` : 'control-panel__open_btn')} onClick={this.controlPanel}>\n          <div className=\"bar1\"></div>\n          <div className=\"bar2\"></div>\n          <div className=\"bar3\"></div>\n        </button>\n        { change &&\n          <div>\n            { controlPanel && controlPanel.title\n              ? <h1>{controlPanel.title}</h1>\n              : <h1>Control panel</h1>\n            }\n            <hr></hr>\n            <DrawerControl\n              handlers={handlers}\n            />\n            <hr></hr>\n            <div className={(change ? 'elements__control' : 'elements__control hidden')}>\n              <button onClick={() => this.openModal('add')}>Add Element</button>\n              <button onClick={() => this.openModal('hide')}>Hide Element</button>\n              <button onClick={() => this.openModal('del')}>Delete Element</button>\n            </div>\n          </div>\n        }\n        { modal &&\n          this.modalRender()\n        }\n        { searchAddress && searchAddress.position === 'controlPanel' &&\n          <AddressSearchBar\n            searchAddress={searchAddress}\n            mapElements={mapElements}\n            handlers={handlers}\n            googleAPI={googleAPI}\n          />\n        }\n      </div>\n    )\n  }\n}\n\nexport default ControlPanel\n","import React, { Component } from 'react'\r\nimport { Map, TileLayer } from 'react-leaflet'\r\nimport uuid from 'uuidv4'\r\nimport AddressSearchBar from './components/AddressSearchBar'\r\nimport MapElements from './models/MapElements'\r\nimport MapElementsComponent from './components/MapElements'\r\nimport MapLeafletDrawer from './components/MapLeafletDrawer'\r\nimport MapDrawer from './components/MapDrawer'\r\nimport ControlPanel from './components/ControlPanel'\r\nimport './AltaMap.scss'\r\n\r\nconst DEFAULT_VIEWPORT = {\r\n  center: [50.270908, 19.039993],\r\n  zoom: 13,\r\n}\r\n\r\nclass AltaMap extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.drawRef = React.createRef()\r\n    this.leafletDrawer = React.createRef()\r\n    this.state = {\r\n      mapElements: new MapElements([]),\r\n      viewport: DEFAULT_VIEWPORT,\r\n      showControlPanel: false\r\n    }\r\n\r\n    this.callChangeCallback = this.callChangeCallback.bind(this)\r\n\r\n    /***   HANDLERS BINDS    ***/\r\n    this.setViewport = this.setViewport.bind(this)\r\n    this.addElements = this.addElements.bind(this)\r\n    this.hideElements = this.hideElements.bind(this)\r\n    this.hideElementById = this.hideElementById.bind(this)\r\n    this.deleteElement = this.deleteElement.bind(this)\r\n    this.deleteElementById = this.deleteElementById.bind(this)\r\n    this.addMarker = this.addMarker.bind(this)\r\n    /*** END: HANDLERS BINDS ***/\r\n  }\r\n\r\n  /*****************  HANDLERS   *********************/\r\n  setViewport(lat,lng,zoom) {\r\n    if(lat && lng && zoom){\r\n      this.setState({\r\n        viewport: {\r\n          center: [lat,lng],\r\n          zoom:[zoom]\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  getElements() { return this.state.mapElements.getElements() }\r\n\r\n  getElementsById(id) { return this.state.mapElements.getElementsById(id) }\r\n\r\n  getElementsByTag(tag) { return this.state.mapElements.getElementsByTag(tag) }\r\n\r\n  addElements(elements) {\r\n    let mapElements = this.state.mapElements\r\n    mapElements.addElements(elements)\r\n    this.setState({\r\n      mapElements: mapElements\r\n    }, () => {\r\n      this.callChangeCallback()\r\n    })\r\n  }\r\n\r\n  deleteElement(tag) {\r\n    let mapElements = this.state.mapElements\r\n    mapElements.deleteElement(tag)\r\n    this.setState({\r\n      mapElements: mapElements\r\n    }, () => {\r\n      this.callChangeCallback()\r\n    })\r\n  }\r\n\r\n  deleteElementById(id) {\r\n    let mapElements = this.state.mapElements\r\n    mapElements.deleteElementById(id)\r\n    this.setState({\r\n      mapElements: mapElements\r\n    }, () => {\r\n      this.callChangeCallback()\r\n    })\r\n  }\r\n\r\n  hideElements(tag) {\r\n    let mapElements = this.state.mapElements\r\n    mapElements.hideElements(tag)\r\n    this.setState({\r\n      mapElements: mapElements\r\n    }, () => {\r\n      this.callChangeCallback()\r\n    })\r\n  }\r\n\r\n  hideElementById(id) {\r\n    let mapElements = this.state.mapElements\r\n    mapElements.hideElementById(id)\r\n    this.setState({\r\n      mapElements: mapElements\r\n    }, () => {\r\n      this.callChangeCallback()\r\n    })\r\n  }\r\n\r\n  addMarker(lat,lng,popup) {\r\n    if(lat && lng) {\r\n      const marker = [{\r\n        id: uuid(),\r\n        type: 'marker',\r\n        tags: null,\r\n        options: {popup},\r\n        data: {lat, lng},\r\n      }]\r\n      this.addElements(marker)\r\n    }\r\n  }\r\n\r\n  /* =================  END HANDLERS ===================== */\r\n\r\n  callChangeCallback() {\r\n    if(this.props.onChange){\r\n      this.props.onChange()\r\n    }\r\n  }\r\n\r\n  toggleControlPanel() {\r\n    const { showControlPanel } = this.state\r\n    this.setState({ showControlPanel: !showControlPanel })\r\n  }\r\n\r\n  render() {\r\n    const handlers = {\r\n      setViewport: this.setViewport,\r\n\r\n      getElementsById: this.getElementsById,\r\n      getElementsByTag: this.getElementsByTag,\r\n      addElements: this.addElements,\r\n      hideElements: this.hideElements,\r\n      hideElementById: this.hideElementById,\r\n      deleteElement: this.deleteElement,\r\n      deleteElementById: this.deleteElementById,\r\n\r\n      addMarker: this.addMarker,\r\n\r\n      drawRef: this.drawRef,\r\n      leafletDrawer: this.leafletDrawer,\r\n\r\n      props: this.props,\r\n    }\r\n    const { viewport, mapElements, showControlPanel } = this.state\r\n    const { controlPanel, searchAddress, googleAPI } = this.props\r\n    let mainClass = 'altalogy-map'\r\n    if (showControlPanel) { mainClass = mainClass + ' control-panel-active'}\r\n    return (\r\n      <div className={mainClass} style={{ width:'100%', height: '100%' }}>\r\n        <Map minZoom='4' viewport={viewport} style={{ width:'100%', height: '100%' }}>\r\n          <TileLayer\r\n            url={this.props.tileLayer ? this.props.tileLayer : 'http://{s}.tile.osm.org/{z}/{x}/{y}.png'}\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          />\r\n          <MapLeafletDrawer ref={this.leafletDrawer} />\r\n          <MapDrawer ref={this.drawRef} />\r\n          <MapElementsComponent\r\n            mapElements={mapElements}\r\n          />\r\n        </Map>\r\n\r\n        <ControlPanel\r\n          controlPanel={controlPanel}\r\n          toggleControlPanel={() => this.toggleControlPanel()}\r\n          mapElements={mapElements}\r\n          handlers={handlers}\r\n          searchAddress={searchAddress}\r\n          googleAPI={googleAPI}\r\n        />\r\n\r\n        { searchAddress && searchAddress.enabled !== false && searchAddress.position !== 'controlPanel' &&\r\n          <AddressSearchBar\r\n            searchAddress={searchAddress}\r\n            mapElements={mapElements}\r\n            handlers={handlers}\r\n            googleAPI={googleAPI}\r\n          />\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AltaMap\r\n","import AltaMap from './AltaMap'\r\n\r\nexport default AltaMap\r\n","import React, { Component } from 'react'\nimport './App.scss'\nimport AltaMap from './components/AltaMap'\n\n// const ADDRESS_POINTS = [\n//   [-37.8839, null, \"571\"],\n//   [-37.8869090667, 175.3657417333, \"486\"],\n//   [-37.8894207167, 175.4015351167, \"807\"],\n//   [-37.8927369333, 175.4087452333, \"899\"],\n//   [-37.90585105, 175.4453463833, \"1273\"],\n//   [-37.9064188833, 175.4441556833, \"1258\"],\n//   [-37.90584715, 175.4463564333, \"1279\"],\n//   [-37.9033391333, 175.4244005667, \"1078\"],\n//   [-37.9061991333, 175.4492620333, \"1309\"],\n//   [-37.9058955167, 175.4445613167, \"1261\"],\n//   [-37.88888045, 175.39146475, \"734\"],\n// ]\n\n// const data = [{\n//   id: '12345',\n//   type: 'heatmap',\n//   tags: ['heatmap'],\n//   data: ADDRESS_POINTS,\n// },\n// {\n//   type: 'group_markers',\n//   tags: ['group'],\n//   data: [\n//     {lat:'50.270908',lng: '19.039993',popup: 'KATOWICE NOCĄ BO MOCĄ '},\n//     {lat:'50.170908',lng: '18.939993',popup: 'xxxxx '},\n//     {lat:'49.270908',lng: '18.039993',popup: 'aaaa '},\n//     {lat:'50.250908',lng: '19.029993',popup: 'zzzz '},\n//   ]\n// }]\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      didMount: false,\n      elements: []\n    }\n    this.updateAltaMapState = this.updateAltaMapState.bind(this)\n    this.altaRef = React.createRef()\n  }\n\n  componentDidMount() {\n    if(this.altaRef.current){\n      this.setState({\n        didMount: !this.state.didMount\n      })\n    }\n    this.altaRef.current.addMarker('50.270908', '19.039993','Katowice')\n  }\n\n  updateAltaMapState() {\n    let elements = this.altaRef.current.getElements()\n    this.setState({\n      elements: elements\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div style={{ width: '100%', height: '100vh'}}>\n          <AltaMap\n            ref={this.altaRef}\n            onChange={this.updateAltaMapState}\n            controlPanel={{\n              enabled: true,\n              title: 'AltaMap',\n            }}\n            searchAddress={{\n              enabled: true,\n              position: 'top',\n            }}\n            googleAPI='PUT_KEY_HERE'\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}